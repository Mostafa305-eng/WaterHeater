/*
 * SLEEP.c
 *
 * Created: 1/13/2020
 *  Author: Mostafa Metwaly
 */ 


/************************************************************************/
/*				 				INCLUDES						        */
/************************************************************************/
#include "registers.h"
#include "sleep.h"


/************************************************************************/
/*						Static Variables                               	*/
/************************************************************************/

uint8 u8_Mode=CPU_NOT_SLEEP;

/************************************************************************/
/*						FUNCTIONS IMPLEMENTATION				        */
/************************************************************************/


/*********************************************************************
* @brief: CPU_Sleep 
*
* 
* Output: None
* @return: void
*****************************************************************************/
void CPU_SetSleep(uint8 u8_SleepMode)
{
    u8_Mode=u8_SleepMode;

}


/*********************************************************************
* @brief: check the sleep flag 
*
* 
* Output: None
* @return: void
*****************************************************************************/
void CPU_SleepUpdate()
{
    if(u8_Mode == CPU_SLEEP)
    {
        /* Execute SLEEP instruction to put device in selected sleep mode */
        asm("SLEEP");
        
    }    
}